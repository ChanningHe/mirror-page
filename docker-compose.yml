services:
  mirror-page:
    image: channinghe/mirror-page:latest
    container_name: mirror-page
    restart: unless-stopped
    ports:
      - "43480:80"
    volumes:
      # 1. Configuration (Crucial for the build step)
      - ./mirrors.toml:/app/mirrors.toml:ro
      - ./README.md:/app/README.md:ro
      
      # 2. Mirror Data (Served by Caddy)
      - /data/mirrors:/data/mirrors:ro

      # 3. Optional: Persist build cache to speed up restarts
      # - ./out:/app/out
